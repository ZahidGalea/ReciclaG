<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8" name='viewport' content='width=device-width, initial-scale=1'>

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@700&family=New+Tegomin&family=Roboto&display=swap"
          rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="shortcut icon" href="../img/logo.png">
    <title>ReciclaG</title>
    <link rel="stylesheet" href="../css/main.css">


</head>

<body>


<!--
Navbar Section
-->
<div class="fixed-top-menu">
    <div class="collapse" id="navbarToggleExternalContent">
        <div class="navbarMenu">

            <li class="optionsMenu">
                <a href="../../index.html">Inicio</a>
            </li>
            <li class="optionsMenu">
                <a href="iniciativa.html">Iniciativas</a>
            </li>
            <li class="optionsMenu">
                <a href="login.html">Login</a>
            </li>

        </div>
    </div>

    <nav class="navbarTop navbar-dark navbarMenu">

        <button class="navbar-toggler" type="button" data-toggle="collapse"
                data-target="#navbarToggleExternalContent"
                aria-controls="navbarToggleExternalContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <img class="logo" alt="logo" src="../img/logo.png"/>
    </nav>
</div>

<!--
Ends - Navbar Section
-->

<!--
Form Section
-->

<div id="wrap">
    <div id="main" class="container clear-top">

        <div class="container contacto">
            <form class="container">
                <div class="row justify-content-md-center">
                    <div class="col">
                        <h1 class="align-content-center">¡Inscríbete para registrar tus iniciativas!</h1>
                    </div>

                </div>
                <div class="mb-3">
                    <label for="organizacion" class="form-label">Organización</label>
                    <input type="text" class="form-control" id="organizacion">
                </div>
                <div class="alert alert-danger" role="alert" id="msgErrorOrganizacion">
                    <label class="form-label" id="txtErrorOrganizacion">Debe ingresar el nombre de la
                        organización</label>
                </div>

                <div class="mb-3">
                    <label for="telefono" class="form-label">Teléfono</label>
                    <input type="text" class="form-control" id="telefono">Formato 123456789</input>
                </div>
                <div class="alert alert-warning" role="alert" id="msgErrorDigitos">
                    <label class="form-label" id="txtErrorDigitos">El número debe tener 9 dígitos</label>
                </div>
                <div class="alert alert-warning" role="alert" id="msgErrorTexto">
                    <label class="form-label" id="txtErrorTexto">Sólo puede ingresar números</label>
                </div>


                <div class="alert alert-danger" role="alert" id="msgErrorFono">
                    <label class="form-label" id="txtErrorFono">Debe ingresar un número de contacto</label>
                </div>

                <div class="mb-3">
                    <label for="email" class="form-label">Correo electrónico</label>
                    <input type="email" class="form-control" id="email" aria-describedby="emailHelp">
                </div>
                <div class="alert alert-danger" role="alert" id="emailValidation">
                    <h6>El correo ingresado no es válido.</h6>
                </div>
                <div class="alert alert-danger" role="alert" id="msgErrorMail">
                    <label class="form-label" id="txtErrorMail">Debe ingresar un correo electrónico</label>
                </div>

                <div class="mb-3">
                    <label for="password" class="form-label">Clave</label>
                    <input type="password" class="form-control" id="password" aria-describedby="emailHelp">
                </div>
                <!-- validación requerimientos clave -->
                <div class="alert alert-light" role="alert" id="password-require">
                    <h6>Requerimientos de la contraseña:</h6>
                    <ul>
                        <li id="letter" class="invalid">Al menos <strong>una minúscula</strong></li>
                        <li id="capital" class="invalid">Al menos <strong>una mayúscula</strong></li>
                        <li id="number" class="invalid">Al menos <strong>un número</strong></li>
                        <li id="length" class="invalid">Al menos <strong>8 carácteres</strong></li>
                        <!-- <li id="character" class="invalid">Al menos <strong>un carácter especial</strong></li> -->
                    </ul>
                </div>
                <div class="alert alert-danger" role="alert" id="msgErrorClave">
                    <label class="form-label" id="txtErrorClave">Debe ingresar una clave</label>
                </div>

                <div class="row align-content-end">
                    <div class="col offset-lg-10 offset-md-9 offset-sm-8 offset-xl-10">
                        <div class="btnGeneral">
                            <!-- <a href="#" id="registrar">¡Inscribirme!</a> -->
                            <button type="button" class="btn btnGeneral" id="registrar" data-target="#validationModal">
                                Inscribirme
                            </button>
                        </div>

                    </div>

                </div>


            </form>

        </div>

    </div>
</div>

<!--
Form Section
-->


<!--
Footer Section
-->

<footer class="bg-primary text-white text-center text-lg-start footer">
    <!-- Grid container -->
    <div class="container p-4">
        <!--Grid row-->
        <div class="row">
            <!--Grid column-->

            <div class="col-lg-2 col-md-4 mb-4 mb-md-0">
                <img class="logo" alt="logo" src="../img/logo.png"/>
            </div>

            <div class="col-lg-4 col-md-4 mb-4 mb-md-0">
                <h5 class="text-uppercase">ReciclaG</h5>


            </div>
            <!--Grid column-->

            <!--Grid column-->
            <div class="col-lg-6 col-md-4 mb-4 mb-md-0">

                <ul class="list-unstyled mb-0">
                    <li>
                        <a href="../../index.html">Inicio</a>
                    </li>
                    <li>
                        <a href="../html/iniciativa.html">Iniciativas</a>
                    </li>
                </ul>
            </div>
            <!--Grid column-->
        </div>
        <!--Grid row-->
    </div>
    <!-- Grid container -->

    <!-- Copyright -->
    <div class="text-center p-3 copyright">
        © 2021 Copyright

    </div>
    <!-- Copyright -->
</footer>

<!--
Ends Footer Section
-->
<!-- Modal-->
<div class="modal" id="validationModal" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Notificación</h4>
                <button type="button" class="close" data-dismiss="modal">×</button>

            </div>
            <div class="modal-body">
                <!-- <div class="alert alert-success" role="alert" id="#msgSuccessModal"> -->
                <label class="form-label" id="textModalSuccess"></label>
                <!-- </div> -->
                <!-- <div class="alert alert-danger" role="alert" id="#msgErrorModal"> -->
                <label class="form-label" id="textModalError"></label>
                <!-- </div> -->
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>

<!-- End Modal -->

<!--
Scripts section
-->

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>

<script type="application/javascript" src="../js/main.js"></script>


<!--
Ends Scripts section
-->
<script type="text/javascript">
    $(document).ready(function () {
        //apaga etiquetas alert
        $("#msgErrorOrganizacion").hide();
        $("#msgErrorFono").hide();
        $("#msgErrorDigitos").hide();
        $("#msgErrorTexto").hide();
        $("#msgErrorMail").hide();
        $("#msgErrorClave").hide();

        // funcion para validar la edad del usuario este en el rango 0 a 140
        $("#telefono").blur(function (event) {
            var fono = parseInt($("#telefono").val());
            if (fono < 111111111 || fono > 999999999) {
                $("#msgErrorDigitos").show();
                return false;
            } else {
                $("#msgErrorDigitos").hide();
            }

        });

        $("#telefono").keypress(function (e) {
            //if the letter is not digit then display error and don't type anything
            if (e.which != 8 && e.which != 0 && (e.which < 48 || e.which > 57)) {
                //display error message
                $("#msgErrorTexto").show();
                return false;
            } else {
                $("#msgErrorTexto").hide();
            }
        });


        //validando formato de correo
        $("#emailValidation").hide();
        $('#email').focus(function () {

            var emailInput = $('#email').val();
            var regExpEmail = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
            if (!regExpEmail.test(emailInput)) {
                $("#emailValidation").show();
            } else {
                $("#emailValidation").hide();
            }
        });

        //validando requerimientos clave
        $('#password-require').hide();
        $('#password').keyup(function () {
            // keyup code here
            var passwd = $(this).val();
            //letter
            if (passwd.match(/[A-z]/)) {
                $('#letter').removeClass('invalid').addClass('valid');
            } else {
                $('#letter').removeClass('valid').addClass('invalid');
            }
            //capital letter
            if (passwd.match(/[A-Z]/)) {
                $('#capital').removeClass('invalid').addClass('valid');
            } else {
                $('#capital').removeClass('valid').addClass('invalid');
            }
            //number
            if (passwd.match(/\d/)) {
                $('#number').removeClass('invalid').addClass('valid');
            } else {
                $('#number').removeClass('valid').addClass('invalid');
            }
            //length
            if (passwd.length < 8) {
                $('#length').removeClass('valid').addClass('invalid');
            } else {
                $('#length').removeClass('invalid').addClass('valid');
            }
            //special characters
            // if (passwd.match(/^\s*[~!@#$%^&*\s]+\s*$/)){
            //   $('#character').removeClass('valid').addClass('invalid');
            // } else {
            //   $('#character').removeClass('invalid').addClass('valid');
            // }


        }).focus(function () {
            $('#password-require').show();
        }).blur(function () {
            $('#password-require').hide();
        });


        //valida envio de formulario
        $("#registrar").click(function () {

            var retorno = true;
            var organizacion = $("#organizacion").val();
            var fono = $("#telefono").val();
            var email = $("#email").val();
            var password = $("#password").val();

            if (organizacion.trim() <= 0) {
                $("#msgErrorOrganizacion").show();
                $("#validationModal").modal('show');
                $("#textModalError").text("Hay errores en el formulario.");
                $("#textModalSuccess").hide();
                retorno = false;
            } else {
                $("#msgErrorOrganizacion").hide();


            }

            if (fono.trim() <= 0) {
                $("#msgErrorFono").show();
                $("#validationModal").modal('show');
                $("#textModalError").text("Hay errores en el formulario.");
                $("#textModalSuccess").hide();
                retorno = false;
            } else {
                $("#msgErrorFono").hide();
            }

            if (email.trim() <= 0) {
                $("#msgErrorMail").show();
                $("#validationModal").modal('show');
                $("#textModalError").text("Hay errores en el formulario.");
                $("#textModalSuccess").hide();
                retorno = false;
            } else {

                $("#msgErrorMail").hide();
            }



            return retorno


        });


    });
</script>

</body>
</html>
